{"ast":null,"code":"import React from'react';import{Box,Grid,Text}from'@chakra-ui/react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const calculateImpliedProbability=odds=>1/odds;const checkArbitrage=(overOdds,underOdds)=>{const probOver=calculateImpliedProbability(overOdds);const probUnder=calculateImpliedProbability(underOdds);return probOver+probUnder<1;};const extractPlayerAssists=markets=>markets===null||markets===void 0?void 0:markets.find(m=>m.key==='player_assists');export const renderArbitrageAssists=games=>{const playerPropsArbitrage=[];games.forEach(game=>{const players={};game.bookmakers.forEach(bookmaker=>{const assistMarket=extractPlayerAssists(bookmaker.markets);if(!assistMarket)return;assistMarket.outcomes.forEach(outcome=>{const playerName=outcome.description;if(!players[playerName])players[playerName]={};if(!players[playerName][bookmaker.title])players[playerName][bookmaker.title]={};if(outcome.name==='Over'){players[playerName][bookmaker.title].over=outcome;}else if(outcome.name==='Under'){players[playerName][bookmaker.title].under=outcome;}});});Object.entries(players).forEach(_ref=>{let[playerName,books]=_ref;const bookmakers=Object.entries(books);for(let i=0;i<bookmakers.length;i++){const[bk1,odds1]=bookmakers[i];for(let j=0;j<bookmakers.length;j++){if(i===j)continue;const[bk2,odds2]=bookmakers[j];if(odds1.over&&odds2.under&&odds1.over.point!==undefined&&odds2.under.point!==undefined&&odds1.over.point<=odds2.under.point&&checkArbitrage(odds1.over.price,odds2.under.price)){playerPropsArbitrage.push(/*#__PURE__*/_jsxs(Box,{borderWidth:\"1px\",borderRadius:\"md\",p:4,boxShadow:\"md\",bg:\"gray.50\",children:[/*#__PURE__*/_jsxs(Text,{fontWeight:\"bold\",fontSize:\"lg\",color:\"teal.500\",children:[game.home_team,\" vs \",game.away_team]}),/*#__PURE__*/_jsxs(Text,{fontWeight:\"bold\",fontSize:\"lg\",color:\"blue.600\",children:[playerName,\" (Assists Market)\"]}),/*#__PURE__*/_jsxs(Text,{fontSize:\"sm\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[bk1,\" (Over):\"]}),\" \",odds1.over.price,\" (Line: \",odds1.over.point,\")\"]}),/*#__PURE__*/_jsxs(Text,{fontSize:\"sm\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[bk2,\" (Under):\"]}),\" \",odds2.under.price,\" (Line: \",odds2.under.point,\")\"]}),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",color:\"red.500\",children:\"Arbitrage!\"})]},`${game.home_team}-${game.away_team}-${playerName}-${bk1}-${bk2}-${odds1.over.point}-${odds2.under.point}`));}}}});});return/*#__PURE__*/_jsx(Grid,{templateColumns:\"repeat(3, 1fr)\",gap:5,p:5,children:playerPropsArbitrage.length>0?playerPropsArbitrage:/*#__PURE__*/_jsx(Box,{p:4,textAlign:\"center\",border:\"1px dashed\",borderColor:\"gray.300\",borderRadius:\"md\",color:\"gray.500\",children:\"No arbitrage found.\"})});};","map":{"version":3,"names":["React","Box","Grid","Text","jsxs","_jsxs","jsx","_jsx","calculateImpliedProbability","odds","checkArbitrage","overOdds","underOdds","probOver","probUnder","extractPlayerAssists","markets","find","m","key","renderArbitrageAssists","games","playerPropsArbitrage","forEach","game","players","bookmakers","bookmaker","assistMarket","outcomes","outcome","playerName","description","title","name","over","under","Object","entries","_ref","books","i","length","bk1","odds1","j","bk2","odds2","point","undefined","price","push","borderWidth","borderRadius","p","boxShadow","bg","children","fontWeight","fontSize","color","home_team","away_team","templateColumns","gap","textAlign","border","borderColor"],"sources":["C:/Users/Teren/Documents/GitHub/arbitrage-betting/src/components/functions/renderArbitrageAssists.tsx"],"sourcesContent":["import React, { JSX } from 'react';\r\nimport { Box, Grid, Text } from '@chakra-ui/react';\r\n\r\ninterface Outcome {\r\n  name: string;\r\n  price: number;\r\n  point?: number;\r\n  description: string; // Player name\r\n}\r\n\r\ninterface Market {\r\n  key: string;\r\n  outcomes: Outcome[];\r\n}\r\n\r\ninterface Bookmaker {\r\n  key: string;\r\n  title: string;\r\n  markets?: Market[];\r\n}\r\n\r\ninterface Game {\r\n  home_team: string;\r\n  away_team: string;\r\n  bookmakers: Bookmaker[];\r\n}\r\n\r\nconst calculateImpliedProbability = (odds: number) => 1 / odds;\r\n\r\nconst checkArbitrage = (overOdds: number, underOdds: number) => {\r\n  const probOver = calculateImpliedProbability(overOdds);\r\n  const probUnder = calculateImpliedProbability(underOdds);\r\n  return probOver + probUnder < 1;\r\n};\r\n\r\nconst extractPlayerAssists = (markets?: Market[]) =>\r\n  markets?.find((m) => m.key === 'player_assists');\r\n\r\nexport const renderArbitrageAssists = (games: Game[]): JSX.Element => {\r\n  const playerPropsArbitrage: JSX.Element[] = [];\r\n\r\n  games.forEach((game) => {\r\n    const players: Record<string, Record<string, { over?: Outcome; under?: Outcome }>> = {};\r\n\r\n    game.bookmakers.forEach((bookmaker) => {\r\n      const assistMarket = extractPlayerAssists(bookmaker.markets);\r\n      if (!assistMarket) return;\r\n\r\n      assistMarket.outcomes.forEach((outcome) => {\r\n        const playerName = outcome.description;\r\n        if (!players[playerName]) players[playerName] = {};\r\n        if (!players[playerName][bookmaker.title]) players[playerName][bookmaker.title] = {};\r\n\r\n        if (outcome.name === 'Over') {\r\n          players[playerName][bookmaker.title].over = outcome;\r\n        } else if (outcome.name === 'Under') {\r\n          players[playerName][bookmaker.title].under = outcome;\r\n        }\r\n      });\r\n    });\r\n\r\n    Object.entries(players).forEach(([playerName, books]) => {\r\n      const bookmakers = Object.entries(books);\r\n      for (let i = 0; i < bookmakers.length; i++) {\r\n        const [bk1, odds1] = bookmakers[i];\r\n        for (let j = 0; j < bookmakers.length; j++) {\r\n          if (i === j) continue;\r\n          const [bk2, odds2] = bookmakers[j];\r\n\r\n          if (\r\n            odds1.over &&\r\n            odds2.under &&\r\n            odds1.over.point !== undefined &&\r\n            odds2.under.point !== undefined &&\r\n            odds1.over.point <= odds2.under.point &&\r\n            checkArbitrage(odds1.over.price, odds2.under.price)\r\n          ) {\r\n            playerPropsArbitrage.push(\r\n              <Box\r\n                key={`${game.home_team}-${game.away_team}-${playerName}-${bk1}-${bk2}-${odds1.over.point}-${odds2.under.point}`}\r\n                borderWidth=\"1px\"\r\n                borderRadius=\"md\"\r\n                p={4}\r\n                boxShadow=\"md\"\r\n                bg=\"gray.50\"\r\n              >\r\n                <Text fontWeight=\"bold\" fontSize=\"lg\" color=\"teal.500\">\r\n                  {game.home_team} vs {game.away_team}\r\n                </Text>\r\n                <Text fontWeight=\"bold\" fontSize=\"lg\" color=\"blue.600\">\r\n                  {playerName} (Assists Market)\r\n                </Text>\r\n                <Text fontSize=\"sm\">\r\n                <strong>{bk1} (Over):</strong> {odds1.over.price} (Line: {odds1.over.point})\r\n                </Text>\r\n                <Text fontSize=\"sm\">\r\n                <strong>{bk2} (Under):</strong> {odds2.under.price} (Line: {odds2.under.point})\r\n                </Text>\r\n                <Text fontWeight=\"bold\" color=\"red.500\">\r\n                  Arbitrage!\r\n                </Text>\r\n              </Box>\r\n            );\r\n          }\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n   return (\r\n      <Grid templateColumns=\"repeat(3, 1fr)\" gap={5} p={5}>\r\n        {playerPropsArbitrage.length > 0 ? (\r\n          playerPropsArbitrage\r\n        ) : (\r\n          <Box\r\n            p={4}\r\n            textAlign=\"center\"\r\n            border=\"1px dashed\"\r\n            borderColor=\"gray.300\"\r\n            borderRadius=\"md\"\r\n            color=\"gray.500\"\r\n          >\r\n            No arbitrage found.\r\n          </Box>\r\n        )}\r\n      </Grid>\r\n    );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}