{"ast":null,"code":"import React from'react';import{Box,Text}from'@chakra-ui/react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const calculateImpliedProbability=odds=>1/odds;const checkArbitrage=(homeOdds,awayOdds)=>{const homeProb=calculateImpliedProbability(homeOdds);const awayProb=calculateImpliedProbability(awayOdds);return homeProb+awayProb<1;};const extractMarket=(markets,key)=>markets.find(m=>m.key===key);const isValidSpreadArb=(p1,p2)=>{const num1=Number(p1);const num2=Number(p2);return num1===-num2;};const isValidTotalArb=(p1,p2)=>{const num1=Number(p1);const num2=Number(p2);if(isNaN(num1)||isNaN(num2))return false;return num1<=num2;};export const renderArbitrageBets=(games,marketKey)=>{const bets=[];games.forEach(game=>{game.bookmakers.forEach(b1=>{game.bookmakers.forEach(b2=>{if(b1.key!==b2.key){const m1=extractMarket(b1.markets,marketKey);const m2=extractMarket(b2.markets,marketKey);if(m1&&m2){const o1=m1.outcomes.find(o=>o.name==='Over'||o.name===game.home_team);const o2=m2.outcomes.find(o=>o.name==='Under'||o.name===game.away_team);if(o1&&o2&&checkArbitrage(o1.price,o2.price)){const p1=o1.point;const p2=o2.point;const point1=Number(p1);const point2=Number(p2);const isValid=p1!==undefined&&p2!==undefined&&(o1.name==='Over'&&o2.name==='Under'&&point1<=point2||point1<100&&isValidSpreadArb(point1,point2)||o1.name!=='Over'&&o2.name!=='Under'&&o1.point===undefined&&o2.point===undefined)||p1===undefined&&p2===undefined;if(isValid){bets.push(/*#__PURE__*/_jsxs(Box,{borderWidth:\"1px\",borderRadius:\"md\",p:4,boxShadow:\"md\",bg:\"gray.50\",mb:4,children:[/*#__PURE__*/_jsxs(Text,{fontWeight:\"bold\",fontSize:\"lg\",color:\"teal.500\",children:[game.home_team,\" vs \",game.away_team]}),/*#__PURE__*/_jsxs(Text,{fontWeight:\"bold\",fontSize:\"md\",color:\"blue.600\",children:[b1.title,\" (Home): \",o1.name,\" @ \",o1.price,p1!==undefined?` (Points: ${p1})`:'']}),/*#__PURE__*/_jsxs(Text,{fontWeight:\"bold\",fontSize:\"md\",color:\"blue.600\",children:[b2.title,\" (Away): \",o2.name,\" @ \",o2.price,p2!==undefined?` (Points: ${p2})`:'']}),/*#__PURE__*/_jsx(Text,{fontWeight:\"bold\",color:\"red.500\",children:\"Arbitrage!\"})]},`${game.home_team}-${game.away_team}-${b1.key}-${b2.key}-${marketKey}-${p1}-${p2}`));}}}}});});});return bets;};","map":{"version":3,"names":["React","Box","Text","jsxs","_jsxs","jsx","_jsx","calculateImpliedProbability","odds","checkArbitrage","homeOdds","awayOdds","homeProb","awayProb","extractMarket","markets","key","find","m","isValidSpreadArb","p1","p2","num1","Number","num2","isValidTotalArb","isNaN","renderArbitrageBets","games","marketKey","bets","forEach","game","bookmakers","b1","b2","m1","m2","o1","outcomes","o","name","home_team","o2","away_team","price","point","point1","point2","isValid","undefined","push","borderWidth","borderRadius","p","boxShadow","bg","mb","children","fontWeight","fontSize","color","title"],"sources":["C:/Users/Teren/Documents/GitHub/arbitrage-betting/src/components/functions/renderArbitrageBets.tsx"],"sourcesContent":["import React, { JSX } from 'react';\r\nimport { Box, Grid, Text } from '@chakra-ui/react';\r\n\r\nexport interface Outcome {\r\n  name: string;\r\n  price: number;\r\n  point?: number;\r\n}\r\n\r\nexport interface Market {\r\n  key: string;\r\n  outcomes: Outcome[];\r\n}\r\n\r\nexport interface Bookmaker {\r\n  key: string;\r\n  title: string;\r\n  markets: Market[];\r\n}\r\n\r\nexport interface Game {\r\n  home_team: string;\r\n  away_team: string;\r\n  bookmakers: Bookmaker[];\r\n}\r\n\r\nconst calculateImpliedProbability = (odds: number) => 1 / odds;\r\n\r\nconst checkArbitrage = (homeOdds: number, awayOdds: number) => {\r\n  const homeProb = calculateImpliedProbability(homeOdds);\r\n  const awayProb = calculateImpliedProbability(awayOdds);\r\n  return homeProb + awayProb < 1; \r\n};\r\n\r\nconst extractMarket = (markets: Market[], key: string) =>\r\n  markets.find(m => m.key === key);\r\n\r\nconst isValidSpreadArb = (p1: string | number, p2: string | number): boolean => {\r\n  const num1 = Number(p1);\r\n  const num2 = Number(p2);\r\n  return num1 === -num2;\r\n};\r\n\r\nconst isValidTotalArb = (p1: string | number, p2: string | number): boolean => {\r\n  const num1 = Number(p1);\r\n  const num2 = Number(p2);\r\n\r\n  if (isNaN(num1) || isNaN(num2)) return false;\r\n\r\n  return num1 <= num2;\r\n};\r\n\r\nexport const renderArbitrageBets = (games: Game[], marketKey: string): JSX.Element[] => {\r\n  const bets: JSX.Element[] = [];\r\n\r\n  games.forEach(game => {\r\n    game.bookmakers.forEach(b1 => {\r\n      game.bookmakers.forEach(b2 => {\r\n        if (b1.key !== b2.key) {\r\n          const m1 = extractMarket(b1.markets, marketKey);\r\n          const m2 = extractMarket(b2.markets, marketKey);\r\n          if (m1 && m2) {\r\n            const o1 = m1.outcomes.find(o => o.name === 'Over' || o.name === game.home_team);\r\n            const o2 = m2.outcomes.find(o => o.name === 'Under' || o.name === game.away_team);\r\n\r\n            if (o1 && o2 && checkArbitrage(o1.price, o2.price)) {\r\n              const p1 = o1.point;\r\n              const p2 = o2.point;\r\n\r\n              const point1 = Number(p1);\r\n              const point2 = Number(p2);\r\n\r\n              const isValid =\r\n                (p1 !== undefined && p2 !== undefined &&\r\n                  (\r\n                    (o1.name === 'Over' && o2.name === 'Under' && point1 <= point2) ||\r\n                    (point1 < 100 && isValidSpreadArb(point1, point2)) ||\r\n                    (o1.name !== 'Over' && o2.name !== 'Under' && o1.point === undefined && o2.point === undefined)\r\n                  )\r\n                ) ||\r\n                (p1 === undefined && p2 === undefined);\r\n\r\n              if (isValid) {\r\n                bets.push(\r\n                  <Box\r\n                    key={`${game.home_team}-${game.away_team}-${b1.key}-${b2.key}-${marketKey}-${p1}-${p2}`}\r\n                    borderWidth=\"1px\"\r\n                    borderRadius=\"md\"\r\n                    p={4}\r\n                    boxShadow=\"md\"\r\n                    bg=\"gray.50\"\r\n                    mb={4}\r\n                  >\r\n                    <Text fontWeight=\"bold\" fontSize=\"lg\" color=\"teal.500\">\r\n                      {game.home_team} vs {game.away_team}\r\n                    </Text>\r\n                    <Text fontWeight=\"bold\" fontSize=\"md\" color=\"blue.600\">\r\n                      {b1.title} (Home): {o1.name} @ {o1.price}\r\n                      {p1 !== undefined ? ` (Points: ${p1})` : ''}\r\n                    </Text>\r\n                    <Text fontWeight=\"bold\" fontSize=\"md\" color=\"blue.600\">\r\n                      {b2.title} (Away): {o2.name} @ {o2.price}\r\n                      {p2 !== undefined ? ` (Points: ${p2})` : ''}\r\n                    </Text>\r\n                    <Text fontWeight=\"bold\" color=\"red.500\">\r\n                      Arbitrage!\r\n                    </Text>\r\n                  </Box>\r\n                );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    });\r\n  });\r\n\r\n  return bets;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}